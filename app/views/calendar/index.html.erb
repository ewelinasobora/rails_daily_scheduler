<div class="container">
</br>

<div class="d-flex justify-content-center flex-nowrap">
    <%= form_with(url: calendar_fetch_weatherapi_path, method: :get) do |form| %>
      <%= form.text_field :location, { placeholder: "Location", class: "py-3 px-4 rounded border ring-0 focus:ring-4 focus:ring-orange-100 focus:shadow-none focus:border-orange-500 focus:outline-none" }%>
      <%= form.submit "Check Forecast", { class: "btn btn-primary btn-lg" } %>
    <% end %>
</div>
</br>


<div id="scheduler_here" class="dhx_cal_container" style='width:100%; height:800px;'>
	<div class="dhx_cal_navline">
		<div class="dhx_cal_prev_button">&nbsp;</div>
		<div class="dhx_cal_next_button">&nbsp;</div>
		<div class="dhx_cal_today_button"></div>
		<div class="dhx_cal_date"></div>
		<div class="dhx_cal_tab" name="day_tab" style="right:204px;"></div>
		<div class="dhx_cal_tab" name="week_tab" style="right:140px;"></div>
		<div class="dhx_cal_tab" name="month_tab" style="right:76px;"></div>
	</div>
	<div class="dhx_cal_header">
	</div>
	<div class="dhx_cal_data">
	</div>
</div>

<script>
  scheduler.plugins({
    recurring: true
  });

  scheduler.config.xml_date="%Y-%m-%d %H:%i";
  scheduler.init("scheduler_here");
  scheduler.load("<%= data_path %>/", "json");

  var dp = scheduler.createDataProcessor({
    url: "<%= data_path %>/",
    mode: "REST"
  });
</script>
</div>